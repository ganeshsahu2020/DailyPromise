/* src/styles/animations.css */
/* animations.css - Enhanced with existing brand styles (dark-only friendly) */

/* ────────────────────────────────────────────────────────────────────────────
   Brand-level backdrop accents
   ──────────────────────────────────────────────────────────────────────────── */

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background-image:
    radial-gradient(800px 400px at 10% 10%, rgba(167,139,250,.08), transparent 40%),
    radial-gradient(900px 450px at 90% 20%, rgba(255,111,97,.06), transparent 40%);
  pointer-events: none;
  z-index: 0;                 /* sits behind content */
  mix-blend-mode: screen;
}

/* Floating glass decorations */
.floating-decor {
  position: absolute;
  width: 220px;
  height: 120px;
  border-radius: 1rem;
  opacity: 0.06;
  background: linear-gradient(90deg, rgba(240,200,120,.12), rgba(255,111,97,.08));
  filter: blur(18px);
  transform: translateY(-10px);
  animation: float 6s ease-in-out infinite;
}

@keyframes float {
  0%,100%{transform: translateY(-10px) translateX(0)}
  50%{transform: translateY(10px) translateX(-5px)}
}
/* utility to apply float on any element */
.animate-float{animation: float 4s ease-in-out infinite}

/* Gradient pan utility */
@keyframes gradient-x {
  0%,100%{background-position: 0% 50%}
  50%{background-position: 100% 50%}
}
.animate-gradient-x{
  background-size: 200% 200%;
  animation: gradient-x 15s ease infinite;
}

/* Decorative icon gradient fill (pairs with <defs>#iconGradient) */
.icon-gradient-fill{fill: url(#iconGradient)}

/* ────────────────────────────────────────────────────────────────────────────
   Glass variants (do NOT override your base .glass rules here)
   ──────────────────────────────────────────────────────────────────────────── */

/* Enhanced glass with border */
.glass-border{
  background: rgba(255,255,255,0.2);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255,255,255,0.3);
  box-shadow: 0 8px 32px rgba(0,0,0,0.1);
}

/* Premium glass (kept dark-safe) */
.glass-premium{
  background: linear-gradient(135deg,
    rgba(255,255,255,0.15) 0%,
    rgba(255,255,255,0.08) 100%);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255,255,255,0.2);
  box-shadow:
    0 8px 32px rgba(0,0,0,0.3),
    inset 0 1px 0 rgba(255,255,255,0.1);
}

/* Extra contrast in dark */
.dark .glass-premium,
[data-theme="dark"] .glass-premium{
  background: linear-gradient(135deg,
    rgba(255,255,255,0.12) 0%,
    rgba(255,255,255,0.06) 100%);
  border: 1px solid rgba(255,255,255,0.15);
  box-shadow:
    0 8px 32px rgba(0,0,0,0.4),
    inset 0 1px 0 rgba(255,255,255,0.08);
}

/* ────────────────────────────────────────────────────────────────────────────
   Motion & micro-interactions
   ──────────────────────────────────────────────────────────────────────────── */

*{
  transition-property: color, background-color, border-color, text-decoration-color,
    fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
  transition-timing-function: cubic-bezier(0.4,0,0.2,1);
  transition-duration: 300ms;
}

button,a{transition: all .3s cubic-bezier(0.4,0,0.2,1)}

.hover-lift:hover{
  transform: translateY(-2px);
  box-shadow: 0 12px 40px rgba(0,0,0,0.15);
}

.glass-premium.hover-lift:hover{
  transform: translateY(-2px);
  box-shadow:
    0 12px 40px rgba(0,0,0,0.4),
    inset 0 1px 0 rgba(255,255,255,0.15);
}

/* Gentle pulse (notifications) */
@keyframes pulse-gentle {
  0%,100%{opacity: 1}
  50%{opacity: .7}
}
.animate-pulse-gentle{animation: pulse-gentle 2s ease-in-out infinite}

/* Generic pulse (for animate-pulse-slow utility) */
@keyframes pulse {
  0%,100%{opacity: 1}
  50%{opacity: .7}
}
.animate-pulse-slow{animation: pulse 3s ease-in-out infinite}

/* Celebrate bounce */
@keyframes bounce-celebrate{
  0%,20%,53%,80%,100%{transform: translate3d(0,0,0)}
  40%,43%{transform: translate3d(0,-8px,0)}
  70%{transform: translate3d(0,-4px,0)}
  90%{transform: translate3d(0,-1px,0)}
}
.animate-bounce-celebrate{animation: bounce-celebrate 1s ease-in-out}

/* Shimmer (skeletons) */
@keyframes shimmer{
  0%{background-position: -468px 0}
  100%{background-position: 468px 0}
}
.shimmer{
  animation: shimmer 1.5s ease-in-out infinite;
  background: linear-gradient(
    to right,
    rgba(255,255,255,0) 0%,
    rgba(255,255,255,0.3) 50%,
    rgba(255,255,255,0) 100%
  );
  background-size: 800px 104px;
}

/* Sparkle */
@keyframes sparkle{
  0%,100%{opacity: 0; transform: scale(0) rotate(0deg)}
  50%{opacity: 1; transform: scale(1) rotate(180deg)}
}
.sparkle{animation: sparkle 2s ease-in-out infinite}

/* Gradient text helpers */
.gradient-text{
  background: linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}
.gradient-text-light{
  background: linear-gradient(135deg,#a78bfa 0%,#f472b6 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Animation delay utilities */
.animation-delay-1000{animation-delay: 1000ms}
.animation-delay-2000{animation-delay: 2000ms}
.animation-delay-3000{animation-delay: 3000ms}

/* ────────────────────────────────────────────────────────────────────────────
   Marquee (engagement strip)
   ──────────────────────────────────────────────────────────────────────────── */
@keyframes marquee{
  0%{transform: translateX(0)}
  100%{transform: translateX(-50%)}
}
.marquee{
  display: flex;
  gap: 2rem;
  animation: marquee 20s linear infinite;
  will-change: transform;
  white-space: nowrap;
}

/* ────────────────────────────────────────────────────────────────────────────
   Accessibility, focus, and scrollbars
   ──────────────────────────────────────────────────────────────────────────── */

button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible{
  outline: 2px solid rgba(102,126,234,0.6);
  outline-offset: 2px;
}

.dark button:focus-visible,
.dark input:focus-visible,
.dark select:focus-visible,
.dark textarea:focus-visible,
[data-theme="dark"] button:focus-visible,
[data-theme="dark"] input:focus-visible,
[data-theme="dark"] select:focus-visible,
[data-theme="dark"] textarea:focus-visible{
  outline: 2px solid rgba(167,139,250,0.6);
  outline-offset: 2px;
}

/* Luxury scrollbar (WebKit) */
::-webkit-scrollbar{width: 6px}
::-webkit-scrollbar-track{
  background: rgba(255,255,255,0.1);
  border-radius: 10px;
}
::-webkit-scrollbar-thumb{
  background: linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  border-radius: 10px;
}
::-webkit-scrollbar-thumb:hover{
  background: linear-gradient(135deg,#764ba2 0%,#667eea 100%);
}

/* Hide scrollbars utility (keeps scrollability) */
.no-scrollbar::-webkit-scrollbar{display: none}
.no-scrollbar{-ms-overflow-style: none; scrollbar-width: none}

/* ────────────────────────────────────────────────────────────────────────────
   Forms (glass inputs)
   ──────────────────────────────────────────────────────────────────────────── */

.glass-input{
  background: rgba(255,255,255,0.1)!important;
  border: 1px solid rgba(255,255,255,0.2)!important;
  color: white!important;
  backdrop-filter: blur(10px);
}
.glass-input::placeholder{color: rgba(255,255,255,0.5)!important}
.glass-input:focus{
  background: rgba(255,255,255,0.15)!important;
  border-color: rgba(255,255,255,0.3)!important;
  box-shadow: 0 0 0 3px rgba(167,139,250,0.3)!important;
}

/* ────────────────────────────────────────────────────────────────────────────
   Mobile refinements
   ──────────────────────────────────────────────────────────────────────────── */

@media (max-width: 768px){
  .glass{
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
  .glass-premium{
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }
  .floating-decor{
    width: 120px;
    height: 80px;
    filter: blur(12px);
  }
}

/* Utilities used by child/game pages */
.no-tap-highlight{-webkit-tap-highlight-color: transparent}
.touch-scroll{-webkit-overflow-scrolling: touch}
.safe-t{padding-top: env(safe-area-inset-top)}
.sticky-cta{position: sticky; bottom: 0; z-index: 30}

.game-canvas{
  touch-action: none;          /* prevents scroll while playing */
  user-select: none;
  -webkit-user-select: none;
}

/* ────────────────────────────────────────────────────────────────────────────
   Reduced motion
   ──────────────────────────────────────────────────────────────────────────── */

@media (prefers-reduced-motion: reduce){
  *{
    animation-duration: .01ms!important;
    animation-iteration-count: 1!important;
    transition-duration: .01ms!important;
  }
  .animate-gradient-x,
  .floating-decor,
  .sparkle,
  .hover-lift:hover,
  .animate-float,
  .marquee{animation: none!important; transform: none!important}
}

/* Explicit dark tweaks (kept for environments that honor prefers-color-scheme) */
@media (prefers-color-scheme: dark){
  .glass-premium{
    background: linear-gradient(135deg,
      rgba(255,255,255,0.12) 0%,
      rgba(255,255,255,0.06) 100%);
    border: 1px solid rgba(255,255,255,0.15);
    box-shadow:
      0 8px 32px rgba(0,0,0,0.4),
      inset 0 1px 0 rgba(255,255,255,0.08);
  }
}

/* ────────────────────────────────────────────────────────────────────────────
   Brand noise overlay (served from /public)
   ──────────────────────────────────────────────────────────────────────────── */
/* Place ui/public/noise.png then use this utility where desired */
.brand-noise{
  background-image: url('/noise.png'); /* Vite serves /public at root */
  background-repeat: repeat;
  background-size: auto;
  mix-blend-mode: overlay;
  opacity: .12;
}
